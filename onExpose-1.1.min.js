!function(e){var t=document,n=window,o={handler:window,delay:200,triggerBefore:0,once:!0,advance:!1,advanceItems:50};e.event.special.onExpose={add:function(a,i){var r=e(this),d=e.extend({},o,a.data);d.advance&&r.attr("data-viewport","advance"),e(d.handler).bind("load scroll resize scrollstop",function(o){var a=d.triggerBefore,i=function(e,o){"undefined"!=typeof jQuery&&e instanceof jQuery&&(e=e[0]);var a=e.getBoundingClientRect(),i=n.innerHeight||t.documentElement.clientHeight,r=n.innerWidth||t.documentElement.clientWidth,d=a.top-o<=i&&a.top+a.height>=0,c=a.left<=r&&a.left+a.width>=0;return d&&c}(r,a),c=function(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var o=e.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(n.innerHeight||t.documentElement.clientHeight)&&o.right<=(n.innerWidth||t.documentElement.clientWidth)}(r),l=r.data("once");if(d.once&&!l&&(i||c)){if(r.data("once",!0),r.trigger("onExpose",[i,c]),d.advance&&(i||c)){r.removeAttr("data-viewport");r.last();nextSet=e("[data-viewport=advance]").slice(0,d.advanceItems),clearTimeout(e.data(r,"onExpose")),e.data(r,"onExpose",setTimeout(function(){nextSet.removeAttr("data-viewport"),nextSet.trigger("onExpose",[!0,!0])},d.delay))}}else d.once||(clearTimeout(e.data(r,"onExpose")),e.data(r,"onExpose",setTimeout(function(){if(r.trigger("onExpose",[i,c]),d.advance&&(i||c)){var e=r.last();nextSet=e.nextAll().slice(0,d.advanceItems),nextSet.trigger("onExpose",[!0,!0])}},d.delay)))})}}}(jQuery);