!function(e){var t=document,n=window,o={handler:window,delay:200,triggerBefore:0,once:!0,advance:!1,advanceItems:50};function a(e,o){"undefined"!=typeof jQuery&&e instanceof jQuery&&(e=e[0]);var a=e.getBoundingClientRect(),i=n.innerHeight||t.documentElement.clientHeight,d=n.innerWidth||t.documentElement.clientWidth,r=a.top-o<=i&&a.top+a.height>=0,c=a.left<=d&&a.left+a.width>=0;return r&&c}function i(e){"undefined"!=typeof jQuery&&e instanceof jQuery&&(e=e[0]);var o=e.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(n.innerHeight||t.documentElement.clientHeight)&&o.right<=(n.innerWidth||t.documentElement.clientWidth)}e.event.special.onExpose={add:function(t,n){var d,r,c=e(this),s=e.extend({},o,t.data);s.advance&&(c.attr("data-laod","advance"),c.data("expose",!1)),d=c,e((r=s).handler).bind("load scroll resize scrollstop",function(t){var n=r.triggerBefore,o=a(d,n),c=i(d),s=d.data("expose");if(r.once&&!s&&(o||c)){if(d.data("expose",!0),d.trigger("onExpose",[o,c]),r.advance){d.removeAttr("data-laod");var l=e("[data-laod=advance]").slice(0,r.advanceItems);clearTimeout(e.data(d,"onExpose")),e.data(d,"onExpose",setTimeout(function(){l.each(function(){!1===e(this).data("expose")&&(e(this).data("expose",!0),e(this).removeAttr("data-laod"),e(this).trigger("onExpose",[!0,!0]))})},r.delay))}}else r.once||e.data(d,"onExpose",setTimeout(function(){d.trigger("onExpose",[o,c])},r.delay))})},trigger:function(t,n){var d=e(this),r=e.extend({},o,n),c=a(d,r.triggerBefore),s=i(d),l=d.data("expose");r.once&&!l&&(c||s)&&(d.data("expose",!0),d.trigger("onExpose",[c,s]))}}}(jQuery);
